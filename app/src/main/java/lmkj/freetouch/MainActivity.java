package lmkj.freetouch;import android.content.Intent;import android.os.Bundle;import android.support.v4.app.FragmentTransaction;import android.support.v7.app.AppCompatActivity;import android.util.Log;import android.view.View;import android.widget.Button;public class MainActivity extends AppCompatActivity implements View.OnClickListener {    private static final String TAG = "MainActivity";    Button mStartBtn, mStopBtn;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        mStartBtn = findViewById(R.id.start);        mStopBtn = findViewById(R.id.stop);        mStartBtn.setOnClickListener(this);        mStopBtn.setOnClickListener(this);/*        DiskFragment diskFragment =                (DiskFragment) getSupportFragmentManager().findFragmentById(R.id.contentFrame);        if (diskFragment == null) {            diskFragment = new DiskFragment().newInstance();            FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();            transaction.add(R.id.contentFrame, diskFragment);            transaction.replace(R.id.contentFrame, diskFragment, "disk");//            transaction.addToBackStack(null);            transaction.commit();        }*/    }    @Override    public void onBackPressed() {        final DiskFragment fragment = (DiskFragment) getSupportFragmentManager()                .findFragmentByTag("disk");        if (fragment == null || fragment.allowBackPressed()) {            Log.d(TAG, "huangqw onBackPressed: ");            super.onBackPressed();        }    }    @Override    public void onClick(View view) {        if (view.getId() == R.id.start) {            Intent service = new Intent().setClass(this, FloatButtonService.class);            startService(service);        } else if (view.getId() == R.id.stop) {            Intent service = new Intent().setClass(this, FloatButtonService.class);            stopService(service);        }    }}